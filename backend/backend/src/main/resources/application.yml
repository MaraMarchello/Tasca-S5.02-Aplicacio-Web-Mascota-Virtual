spring:
  application:
    name: codemate
  
  datasource:
    url: jdbc:postgresql://localhost:5432/codemate
    username: codemate
    password: codemate
    driver-class-name: org.postgresql.Driver
    hikari:
      connection-timeout: 20000
      maximum-pool-size: 5
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
  
  redis:
    host: localhost
    port: 6379
  
  security:
    jwt:
      secret: ${JWT_SECRET:your-256-bit-secret-key-here}
      expiration: 86400000 # 24 hours
    oauth2:
      client:
        registration:
          google:
            clientId: ${GOOGLE_CLIENT_ID}
            clientSecret: ${GOOGLE_CLIENT_SECRET}
            redirectUri: "{baseUrl}/oauth2/callback/{registrationId}"
            scope:
              - email
              - profile
          github:
            clientId: ${GITHUB_CLIENT_ID}
            clientSecret: ${GITHUB_CLIENT_SECRET}
            redirectUri: "{baseUrl}/oauth2/callback/{registrationId}"
            scope:
              - user:email
              - read:user
  
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
    config:
      enabled: false
    eureka:
      client:
       enabled: false

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
  
server:
  port: 8080
  
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
  
logging:
  level:
    com.codemate: DEBUG
    org.springframework: INFO
    org.hibernate: INFO
  
openai:
  api:
    key: ${OPENAI_API_KEY:your-api-key-here}
    model: gpt-4
    max-tokens: 2000
    temperature: 0.7

app:
  cors:
    allowed-origins: http://localhost:8080
    allowed-methods: GET,POST,PUT,DELETE,OPTIONS
    allowed-headers: "*"
    allow-credentials: true
  
  cache:
    ttl: 3600 # 1 hour in seconds 
  jwt:
    secret: ${JWT_SECRET:04ca023b39512e46d0c2cf4b48d5aac61d34302994c87ed4eff225dcf3b0a218739f3897051a057f9b846a69ea2927a587044164b7bae5e1306219d50b588cb1}
    expiration: 864000000 # 10 days
  oauth2:
    redirectUri: ${OAUTH2_REDIRECT_URI:http://localhost:8080/dashboard}
    authorizedRedirectUris:
      - http://localhost:8080/dashboard
      - http://localhost:8080/oauth2/redirect
      - http://localhost:8080/login 